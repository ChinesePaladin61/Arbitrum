timezone
Asia/Shanghai
请在上边的 timezone 添加你的当地时区，这会有助于你的打卡状态的自动化更新，如果没有添加，默认为北京时间 UTC+8 时区 时区请参考以下列表，请移除 # 以后的内容

timezone: Pacific/Honolulu # 夏威夷-阿留申标准时间 (UTC-10)

timezone: America/Anchorage # 阿拉斯加标准时间 (UTC-9)

timezone: America/Los_Angeles # 太平洋标准时间 (UTC-8)

timezone: America/Denver # 山地标准时间 (UTC-7)    

timezone: America/Chicago # 中部标准时间 (UTC-6)

timezone: America/New_York # 东部标准时间 (UTC-5)

timezone: America/Halifax # 大西洋标准时间 (UTC-4)

timezone: America/St_Johns # 纽芬兰标准时间 (UTC-3:30)

timezone: America/Sao_Paulo # 巴西利亚时间 (UTC-3)

timezone: Atlantic/Azores # 亚速尔群岛时间 (UTC-1)

timezone: Europe/London # 格林威治标准时间 (UTC+0)

timezone: Europe/Berlin # 中欧标准时间 (UTC+1)  

timezone: Europe/Helsinki # 东欧标准时间 (UTC+2)

timezone: Europe/Moscow # 莫斯科标准时间 (UTC+3)

timezone: Asia/Dubai # 海湾标准时间 (UTC+4)

timezone: Asia/Kolkata # 印度标准时间 (UTC+5:30)

timezone: Asia/Dhaka # 孟加拉国标准时间 (UTC+6)

timezone: Asia/Bangkok # 中南半岛时间 (UTC+7)

timezone: Asia/Shanghai # 中国标准时间 (UTC+8)

timezone: Asia/Tokyo # 日本标准时间 (UTC+9)

timezone: Australia/Sydney # 澳大利亚东部标准时间 (UTC+10)

timezone: Pacific/Auckland # 新西兰标准时间 (UTC+12)

Marcus
hi, 大家好。我是 Marcus,在负责 OP 中文力量，在 Optimism 的研究中，也看到了 arbitrum 的很多治理研究和机制，我想系统的学习一下 arbitrum，这样子便于交流和了解，互相学习



### 2024.12.10

<!-- Content_START -->

### 简单概念
Arbitrum 是一个 Layer2 网络，用的是 Arbitrum Rollup 的机制（俗称欺诈证明，即代表如果你的交易内有欺诈交易，只要你被证明是虚伪交易，那么你质押的一半资产要给到挑战者）

### 为什么 L2 比 L1 的 Tps 要快很多
其实这点我理解下来比较简单，L2 相当于对交易进行打包，一个包里面包含数百上千笔交易，每次 L1 只处理一个包，这样的效率就提升了几百上千倍，这样子 L2 的 Tps 就会高很多，并且 L2 的共识层也没有改变，还是 L1

### Arbitrum 的兼容性如何
Arbitrum 的创建以以太坊兼容性为首要任务。这意味着用户可以将 Arbitrum 与所有他们喜欢的以太坊钱包一起使用；开发人员可以使用所有他们喜欢的以太坊库和工具构建和部署合约；事实上，大多数时候，使用 Arbitrum 的体验与使用以太坊的体验相同（重要的一点是它更便宜、更快）。

为了实现这种程度的以太坊兼容性，我们进行了大量开发。但其核心是：Arbitrum 本身使用了Geth的一个分支（这是使用最广泛的以太坊实现），并对其进行了修改，以将其转变为无需信任的第 2 层。这意味着在 Arbitrum 中运行的大部分代码与在以太坊中运行的代码相同。我们将这种尖端方法称为 Nitro（开发人员可以在此处查看代码库）

### Arbitrum 和 Optimism 有什么不同
Optimism 和 Arbitrum 是目前最大的两个以太坊 Layer-2 解决方案，都使用了 Optimistic Rollup 技术来拓展以太坊网络

尽管 Arbitrum 和 Optimism 都被称为 Optimistic Rollup，二者仍有一些本质上的区别。

其一，二者验证交易所使用的争端解决程序不同。Optimism 使用的是在 Layer-1 上执行的单轮欺诈证明，而 Arbitrum 使用链下执行的多轮欺诈证明。相比单轮欺诈证明，Arbitrum 的多轮欺诈证明更加便宜和高效，但是由于是链下执行，也会有一定的安全性风险

其次，虽然 Optimism 和 Arbitrum 都兼容 EVM，但 Optimism 使用的是以太坊的 EVM，而 Arbitrum 使用自己的 Arbitrum 虚拟机（AVM）。这导致 Optimism 只有 Solidity 编译器，而 Arbitrum 支持所有 EVM 编译语言（Vyper、Yul 等）

验证机制：Arbitrum 使用了一种名为”Fraud Proof”的验证机制来确保交易的安全性。在这个验证机制中，一些特殊的用户（称为验证人）会对提交的交易进行验证，并在需要时向以太坊主链提交证明，以保证交易的正确性。相比之下，Optimism 使用了一种名为”Fraud Prover”的验证机制。在这个验证机制中，一些特殊的用户（称为验证人）会在提交的交易被打包到区块之前，先验证其正确性，以避免在之后需要提交证明。
智能合约执行：Arbitrum 使用了一种名为”Arbitrum VM”的虚拟机来支持智能合约的执行。这个虚拟机与以太坊主链的虚拟机（EVM）相似，但是具有一些特殊的优化，可以实现更高的执行效率。Optimism 使用了一种名为”Optimistic Virtual Machine”（OVM）的虚拟机来支持智能合约的执行。OVM 与 EVM 兼容，但是可以通过一些优化来实现更高的执行效率。
治理模型：Arbitrum 和 Optimism 的治理模型也有所不同。在 Arbitrum 中，所有的验证人都可以参与投票，决定哪些交易可以被打包到区块中。在 Optimism 中，只有一部分特殊的用户（称为”sequencer”）可以打包交易到区块中，并决定区块的生成。 Arbitrum 和 Optimism 都使用了欺诈式证明（Fraud Proof）机制来确保交易的安全性。 欺诈式证明是一种可验证的证据，用于证明在区块链网络中发生了欺诈行为。在使用欺诈式证明的机制中，如果一个用户提交了一个不合法的交易或区块，其他用户可以使用欺诈式证明来证明这一不合法行为，并通过提交欺诈证明来获得相应的奖励。

### 生态方向
Arbitrum 更偏向于 DeFi 以及 GameFi 方向，Optimism 更偏向公共物品和基础建设，同时, Optimism 的未来版图是超级链网络，即打造一体化和互通化的 l2，而 arbitrum 更偏向于应用层面


### 欺诈证明
如果 arb 使用的是欺诈式证明，几天后发现是诈骗，假如资金已经被转出谁来赔偿这个损失？
在 Arbitrum 网络中，如果一个交易被验证人通过并打包进区块，而后被证明是欺诈行为，那么验证人将会失去相应的奖励，并需要支付一定的惩罚金。惩罚金将会被分发给提交欺诈证明的用户，作为他们的奖励。 但是，如果已经发生诈骗或其他不良事件，导致用户的资金被盗或损失，这并不属于 Arbitrum 网络本身的责任范畴。Arbitrum 网络提供的是一种安全性较高的交易验证机制，可以有效地减少欺诈行为的发生。但是，由于区块链技术的本质特点，一旦交易被确认，就无法被撤销或更改。因此，在进行交易时，用户需要自行承担风险，并确保自己的资产安全。




### 2024.12.11

### Arbitrum DAO
Arbitrum DAO 也是采取 Pos 治理，即你持有的 arb 越多，你的投票权越大，arb 更偏向于社区驱动的方式来治理，但内部有一个安全委员会，为了防止一些治理攻击的方式出现，安全委员会是一组实体，负责确保 DAO 及其链的安全性和完整性。根据《宪法》规定，委员会可以绕过缓慢的投票程序，在出现安全紧急情况时迅速采取行动。安全委员会成员由 DAO 通过半年选举产生，安全委员会有 12 名成员，如果发生紧急问题，他们可以采取紧急行动，9/12 的投票即可直接行动

### Arbitrum 如何投票的
Arbitrum 的投票模式其实和大部分 DAO 都差不多，显示温度检查，一般是在论坛发布提案，然后到 Tally 上发起正式提案，通过即代表提案开始执行
Arb 同样对提案进行了分级，
Arbitrum 改进提案 (AIP)是由 Arbitrum DAO 成员提交的提案，提议对 Arbitrum 生态系统进行更改。AIP 有两种类型：宪法和非宪法：

宪法 AIP 是指修改宪法或 AIP-1 的文本或程序、在任何链上安装或修改软件、或在任何链上采取任何需要“链所有者”许可的行动。
非宪法 AIP 是所有其他 AIP，例如那些请求资金/补助金或向社区提供一般指导或信息的 AIP。
简单来说，一些动到协议本身的提案，如通胀系数，协议的一些新增组件，那么都是宪法 AIP，需要通过链所有者许可，需要再进行一次评判，其他的申请 Grants 和社区指导的提案就不是宪法 AIP

整个 AIP 投票过程（包括所有七个阶段）从第一阶段的温度检查开始通常需要 37 天（宪法 AIP）或 27 天（非宪法 AIP）。此过程旨在进行彻底的考虑和投票，确保每个人都有公平的机会表达他们的意见和担忧。

### Arbitrum 是如何分配 Grants 给社区的
Arbitrum 的预算是根据 AIP 来分配的，包括基金会自己的预算也要通过 AIP 来提出，然后 Arb 的 Grants 发放更多像是 DAO 内的委员会形式，形成了如 LTIPP 的激励计划(4500W arb),GCP(游戏催化剂)等分类别的资助委员会，一般资助委员会由几人组成，然后定期审阅项目并批款，同时也有一些总结报告
如：https://forum.arbitrum.foundation/t/long-term-incentives-pilot-program/20223

### Arbitrum 和 Optimism 的治理不同
Arb 的治理模型为 DAO、委托和质押模式
Arbitrum 由Arbitrum DAO治理，该 DAO 由 $ARB 代币持有者组成，他们可以提议并投票决定网络技术变更。代币持有者可直接参与治理，也可委托代表。Arbitrum DAO 最近通过了一项提议，引入 $ARB 代币质押，将其从纯治理代币转变为双重功能代币。未来，Arbitrum 的治理将基于质押 ARB 代币（$stARB）。这一变化旨在增加 $ARB的价值和提高治理参与度。

Arbitrum 希望快速提高治理参与度，因为目前只有约 10% 的 $ARB 流通量用于治理。Arbitrum DAO 通过智能合约实现，负责管理内置的财库系统。它还设有安全委员会，可在紧急情况下升级协议。安全委员会是治理结构的关键部分，负责在这些关键情况下做出决策，成员由 Arbitrum DAO 选举产生。Arbitrum 的治理结构是偏向财阀制的，因为$ARB代币持有者是系统的主要决策者。

OP 的治理模型为二院制
乐观采用非财阀治理系统，防止被单一实体或小群体控制。这意味着代币持有者不是协议升级、资源分配和创新的唯一决策者。即使积累大量OP治理代币，也无法轻易控制网络价值，因为乐观采用了两院制支架，其公民屋与代币屋相互制衡。

乐观集体是一个实验性的治理团体，治理细化不断迭代，因为他们认为长期愿景有时可能与短期价值相互冲突。

代币由 OP 治理代币持有者组成，他们可以直接投票或将投票权委托给信任的代表。公民屋则由在乐观生态象征的个人组成，公民由灵魂绑定的 NFT 拯救公民屋实行一人一票制，推动了民主进程。

代币屋负责协议升级和激励投票，而公民屋主要管理复古资助（主要项目性公共项目资助），确保协议追求长期目标，防止被实体特定控制。两院相互制，可以衡一院的核心职责被另一院否决。


### Arb 和 OP 谁的治理模型更好
这个说不上谁好谁坏，我整体的感觉是 Arb 更偏社区化一些，表面上没有明显的精英领导（当然背后也肯定有 arb 基金会或者安全委员会去推动），OP 更多的是社区+精英化治理的方式，二院的对抗，token house 为下议院，citizen house 为上议院，两院之间相互制衡
但是我目前感觉 arb 的治理偏社区化可能会导致一些治理资金的浪费，比如 treasuryDAO 的游戏激励计划，把整个 arb 都带向了游戏化的路线，但是游戏这个赛道又没起来，而 OP 感觉背后有 OP 基金会和 Coinbase 的助推，看起来更正规和精英化一些，也更偏向以太坊的核心层的感觉，arb 对比下来更社区化，当然也更分散，同时有一个问题就是社区化引导可能带来试错成本比较高，从而导致资金的浪费

### 2024.12.12
### 如何评价 L2 的去中心化程度
Arb 和 OP 目前都是基于 Rollup 实现的，但是 L2 如何实现去中心化，把整个智能合约交给社区来管理，并且保持安全性的情况下达到去中心化运作，我这里看到 L2beat 提出了一套评估 Rollups 成熟度的框架，也是 Rollups 项目逐渐走向去中心化的关键

在区块链技术不断发展的背景下，rollup 已成为一种有前途的解决方案，可以在信任最小化的情况下扩展以太坊。然而，这些系统的开发通常涉及一个集中控制阶段，通常被称为“训练轮”，允许在受控环境中进行系统更新和错误修复。

虽然在早期阶段这些辅助工具必不可少，但最终还是应该移除它们，这样 Rollup 才能完全继承基础层的安全属性。为了引导这一转变，我们引入了一个新框架，该框架受到Vitalik 提出的里程碑的启发，根据 Rollup 对辅助工具的依赖程度，将 Rollup 分为三个不同的阶段：

第 0 阶段 — 全面训练：在此阶段，rollup 由操作员有效运行。不过，有一个源可用软件，可以根据 L1 上发布的数据重建状态，用于将状态根与提议的根进行比较。
第 1 阶段 — 有限的训练轮：在此阶段，rollup 过渡到由智能合约管理。但是，可能会保留一个安全委员会来解决潜在的错误。此阶段的特点是实施功能齐全的证明系统、分散欺诈证明提交，并提供无需运营商协调的用户退出。由多元化参与者组成的安全委员会提供了安全网，但其权力也带来了潜在风险。
第 2 阶段 — 无需训练：这是 Rollup 完全由智能合约管理的最后阶段。此时，防欺诈系统无需许可，如果出现不必要的升级，用户有充足的时间退出。安理会的作用严格限于解决可以在链上裁决的健全性错误，并保护用户免受治理攻击。

详情看看：https://ethereum-magicians.org/t/proposed-milestones-for-rollups-taking-off-training-wheels/11571

### Arbitrum 的 Rullup 机制成熟度如何
L2beat 评判 rullup 去中心化程度的 stage1 阶段，是按照 Stage 来区分的，目前 arb 和 Op 都是达到了 L2beat 评判 rullup 去中心化程度的 stage1 阶段，即
Stage 0
该项目称其自己为rollup。
状态根被发布到以太坊L1。
状态转换函数的输入被发布到以太坊L1。
存在一个源可用节点，可以从以太坊L1数据重新创建状态。请注意，L2BEAT 团队尚未验证节点源代码的有效性。

Stage 1
已部署完善、功能齐全的证明系统。
至少有 5 名外部参与者可以提交欺诈证明。
用户无需获得许可的操作员的帮助即可退出。
如果出现比安全理事会更集中的参与者进行不必要的升级，用户至少有 7 天的时间退出。
安全理事会已妥善设立。

Stage 2 
只有白名单参与者才能提交欺诈证明。
与链上可证明的错误无关的升级需要不到 30 天的时间才能退出。
安理会的行动并不局限于链上可证明的漏洞。

但是目前 Arb 只达到了 Stage 1 阶段





### 2024.12.13
### 如何解决争议
如何解决争议。假设 Alice 断言 Rollup 会的运行会产生某个结果，而 Bob 不同意，那协议该如何定夺，选择谁提交的结果呢？
这就用到一些争议解决的方式

争议解决方式：
交互式证明（Interactive Proving）：
Alice 和 Bob 通过 L1 合约进行回合制交互，将争议范围逐步缩小。最后只需检查一个执行步骤的断言是否正确。目标是将计算负担尽量留在链下，减少对 L1 的依赖。
重执行交易（Transaction Re-execution）：L1 模拟一整笔交易的执行，看是否与断言一致。每笔交易需附带一个状态哈希值作为断言。

我理解交互式证明是对收集到的问题进行N/2，一直除下去，就能找到有争议的那笔交易，最后把有问题的去掉，其他上链即可，而重执行相当于对每笔交易都进行打标签，就有点问题

交互式证明的优势
链上效率：

乐观场景：交互式证明允许整个 Rollup 区块用一个状态断言表示结果，减少 L1 的存储开销。
悲观场景：即使有争议，L1 只需验证争议引导是否合规，避免完整重演交易。更高的 Gas Limit：

交互式证明脱离了以太坊单笔交易 Gas Limit 的限制，可以支持更大规模的交易。合约大小无限制：

交互式证明无需为每个 L2 合约在 L1 上部署对应合约，因此不受以太坊合约大小的限制。
重执行模式需要仿制合约，受限于以太坊合约大小。

实现弹性：
交互式证明对 EVM 无硬性依赖，可以支持额外的计算指令。
重执行模式严格受限于 EVM 的现有功能。

<!-- Content_END -->  
